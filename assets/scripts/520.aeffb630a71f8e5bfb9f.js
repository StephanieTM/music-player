(self.webpackChunkfe_proj=self.webpackChunkfe_proj||[]).push([[520],{520:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(7294),a=n(3808);function i(e,t){if(null!=e)if((0,a.mf)(e))e(t);else try{e.current=t}catch(n){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>i(t,e)))}}var l=n(829),o=n(1180),u=n(5284),s=n(8554),f=n.n(s),p=n(4461),d=n(8500);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var[v,g]=(0,d.k)({strict:!1,name:"ButtonGroupContext"}),h=(0,o.forwardRef)(((e,t)=>{var{size:n,colorScheme:a,variant:i,className:c,spacing:l="0.5rem",isAttached:u,isDisabled:s}=e,f=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),d=(0,p.cx)("chakra-button__group",c),g=r.useMemo((()=>({size:n,colorScheme:a,variant:i,isDisabled:s})),[n,a,i,s]),h={display:"inline-flex"};return h=m({},h,u?{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginStart:l}}),r.createElement(v,{value:g},r.createElement(o.chakra.div,m({ref:t,role:"group",__css:h,className:d},f)))}));function E(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}a.Ts&&(h.displayName="ButtonGroup");var x=(0,o.forwardRef)(((e,t)=>{var n,a=g(),i=(0,o.useStyleConfig)("Button",y({},a,e)),l=(0,u.Lr)(e),{isDisabled:s=(null==a?void 0:a.isDisabled),isLoading:d,isActive:m,isFullWidth:v,children:h,leftIcon:x,rightIcon:N,loadingText:S,iconSpacing:_="0.5rem",type:T,spinner:R,spinnerPlacement:C="start",className:A,as:k}=l,O=E(l,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"]),P=f()({},null!=(n=null==i?void 0:i._focus)?n:{},{zIndex:1}),w=y({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",transition:"all 250ms",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:v?"100%":"auto"},i,!!a&&{_focus:P}),[j,D]=r.useState(!k),B=r.useCallback((e=>{e&&D("BUTTON"===e.tagName)}),[]),U=j?"button":void 0;return r.createElement(o.chakra.button,y({disabled:s||d,ref:c(t,B),as:k,type:null!=T?T:U,"data-active":(0,p.PB)(m),"data-loading":(0,p.PB)(d),__css:w,className:(0,p.cx)("chakra-button",A)},O),x&&!d&&r.createElement(b,{marginEnd:_},x),d&&"start"===C&&r.createElement(I,{label:S,placement:"start"},R),d?S||r.createElement(o.chakra.span,{opacity:0},h):h,d&&"end"===C&&r.createElement(I,{label:S,placement:"end"},R),N&&!d&&r.createElement(b,{marginStart:_},N))}));a.Ts&&(x.displayName="Button");var b=e=>{var{children:t,className:n}=e,a=E(e,["children","className"]),i=r.isValidElement(t)?r.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,c=(0,p.cx)("chakra-button__icon",n);return r.createElement(o.chakra.span,y({display:"inline-flex",alignSelf:"center",flexShrink:0},a,{className:c}),i)};a.Ts&&(b.displayName="ButtonIcon");var I=e=>{var{label:t,placement:n,children:a=r.createElement(l.$,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:c}=e,u=E(e,["label","placement","spacing","children","className","__css"]),s=(0,p.cx)("chakra-button__spinner",i),f=y({display:"flex",alignItems:"center",position:t?"relative":"absolute",["start"===n?"marginEnd":"marginStart"]:t?"0.5rem":0,fontSize:"1em",lineHeight:"normal"},c);return r.createElement(o.chakra.div,y({className:s},u,{__css:f}),a)};a.Ts&&(I.displayName="ButtonSpinner");var N={COS_DOMAIN:"https://public-1258874145.cos.ap-nanjing.myqcloud.com"},S=(n(1249),n(2222),n(9669)),_=n.n(S),T=n(3391);n(4723),n(4916),n(9653);function R(e){var t=e.match(/(\d+):(\d+).(\d+)/);if(t){var n=(0,T.Z)(t,4),r=(n[0],n[1]),a=n[2],i=n[3];return 60*Number(r)+Number("".concat(a,".").concat(i))}return 0}var C=(0,n(7186).f)((function(){var e,t,n=(0,r.useRef)(null),a=(0,r.useState)(!1),i=(0,T.Z)(a,2),c=i[0],l=i[1],o=(0,r.useState)(0),u=(0,T.Z)(o,2),s=u[0],f=u[1],p=(0,r.useState)(0),d=(0,T.Z)(p,2),m=d[0],v=d[1],g=(0,r.useState)({title:"",artist:"",lyrics:[]}),h=(0,T.Z)(g,2),E=h[0],y=h[1],x=(e=c,t=(0,r.useRef)(),(0,r.useEffect)((function(){t.current=e})),t.current);function b(){var e;null===(e=n.current)||void 0===e||e.play(),!c&&l(!0)}function I(){var e;null===(e=n.current)||void 0===e||e.pause(),c&&l(!1)}return c&&!x&&b(),!c&&x&&I(),{audioRef:n,duration:m,setDuration:v,currentTime:s,setCurrentTime:f,isPlaying:c,setIsPlaying:l,lyricJson:E,setLyricJson:y,toggleState:function(){l((function(e){return!e}))},play:b,pause:I,jump:function(e){n.current&&(n.current.currentTime="number"==typeof e?e:R(e))}}}));function A(){var e=C.useContainer(),t=e.lyricJson,n=e.setLyricJson,a=e.jump,i=e.currentTime,c=t.lyrics,l=t.artist,o=t.title;return(0,r.useEffect)((function(){var e=!0;return e&&_().get("".concat(N.COS_DOMAIN,"/assets/the-song.json")).then((function(e){n(e)})),function(){e=!1}}),[n]),r.createElement("div",null,r.createElement("h3",null,"Lyrics"),r.createElement("p",null,o),r.createElement("p",null,l),c.map((function(e,t){var n=e.content,l=e.timeTag,o=function(e){var t=c[e].timeTag;return e<c.length-1?R(t)<=i&&i<R(c[e+1].timeTag):R(t)<=i}(t)?"orange":"black";return r.createElement("p",{key:"".concat(l,"-").concat(t),onClick:function(){return a(l)},style:{color:o}},n," ",l)})))}function k(){var e=C.useContainer(),t=e.audioRef,n=e.isPlaying,a=e.setIsPlaying,i=e.currentTime,c=e.setCurrentTime,l=e.duration,o=e.setDuration,u=e.jump,s=e.play;return(0,r.useEffect)((function(){t.current&&(t.current.src="".concat(N.COS_DOMAIN,"/assets/the-song.mp3"))}),[t]),r.createElement("div",null,r.createElement(x,{onClick:function(){return a(!n)}},n?"Pause":"Play"),r.createElement("div",null,"duration: ",l),r.createElement("div",null,"currentTime: ",i),r.createElement(A,null),r.createElement("audio",{ref:t,onEnded:function(){u(0),s()},onTimeUpdate:function(){var e;c((null===(e=t.current)||void 0===e?void 0:e.currentTime)||0)},onDurationChange:function(){var e;o((null===(e=t.current)||void 0===e?void 0:e.duration)||0)}}))}function O(){return r.createElement(C.Provider,null,r.createElement(k,null))}},1530:function(e,t,n){"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},7007:function(e,t,n){"use strict";n(4916);var r=n(1320),a=n(7293),i=n(5112),c=n(2261),l=n(8880),o=i("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),s="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var m=i(e),v=!a((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),g=v&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[o]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return t=!0,null},n[m](""),!t}));if(!v||!g||"replace"===e&&(!u||!s||p)||"split"===e&&!d){var h=/./[m],E=n(m,""[e],(function(e,t,n,r,a){return t.exec===c?v&&!a?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=E[0],x=E[1];r(String.prototype,e,y),r(RegExp.prototype,m,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&l(RegExp.prototype[m],"sham",!0)}},9587:function(e,t,n){var r=n(111),a=n(7674);e.exports=function(e,t,n){var i,c;return a&&"function"==typeof(i=t.constructor)&&i!==n&&r(c=i.prototype)&&c!==n.prototype&&a(e,c),e}},7651:function(e,t,n){var r=n(4326),a=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},2261:function(e,t,n){"use strict";var r,a,i=n(7066),c=n(2999),l=RegExp.prototype.exec,o=String.prototype.replace,u=l,s=(r=/a/,a=/b*/g,l.call(r,"a"),l.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),f=c.UNSUPPORTED_Y||c.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(s||p||f)&&(u=function(e){var t,n,r,a,c=this,u=f&&c.sticky,d=i.call(c),m=c.source,v=0,g=e;return u&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,v++),n=new RegExp("^(?:"+m+")",d)),p&&(n=new RegExp("^"+m+"$(?!\\s)",d)),s&&(t=c.lastIndex),r=l.call(u?n:c,g),u?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=c.lastIndex,c.lastIndex+=r[0].length):c.lastIndex=0:s&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),p&&r&&r.length>1&&o.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),e.exports=u},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,n){"use strict";var r=n(7293);function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},3111:function(e,t,n){var r=n(4488),a="["+n(1361)+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},1361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9653:function(e,t,n){"use strict";var r=n(9781),a=n(7854),i=n(4705),c=n(1320),l=n(6656),o=n(4326),u=n(9587),s=n(7593),f=n(7293),p=n(30),d=n(8006).f,m=n(1236).f,v=n(3070).f,g=n(3111).trim,h="Number",E=a.Number,y=E.prototype,x=o(p(y))==h,b=function(e){var t,n,r,a,i,c,l,o,u=s(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=g(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(c=(i=u.slice(2)).length,l=0;l<c;l++)if((o=i.charCodeAt(l))<48||o>a)return NaN;return parseInt(i,r)}return+u};if(i(h,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var I,N=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof N&&(x?f((function(){y.valueOf.call(n)})):o(n)!=h)?u(new E(b(t)),n,N):b(t)},S=r?d(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;S.length>_;_++)l(E,I=S[_])&&!l(N,I)&&v(N,I,m(E,I));N.prototype=y,y.constructor=N,c(a,h,N)}},4916:function(e,t,n){"use strict";var r=n(2109),a=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},4723:function(e,t,n){"use strict";var r=n(7007),a=n(9670),i=n(7466),c=n(4488),l=n(1530),o=n(7651);r("match",1,(function(e,t,n){return[function(t){var n=c(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var c=a(e),u=String(this);if(!c.global)return o(c,u);var s=c.unicode;c.lastIndex=0;for(var f,p=[],d=0;null!==(f=o(c,u));){var m=String(f[0]);p[d]=m,""===m&&(c.lastIndex=l(u,i(c.lastIndex),s)),d++}return 0===d?null:p}]}))}}]);