(self.webpackChunkfe_proj=self.webpackChunkfe_proj||[]).push([[234],{9234:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var a=t(3391),r=t(7294),l=t(3808);function i(e,n){if(null!=e)if((0,l.mf)(e))e(n);else try{e.current=n}catch(t){throw new Error("Cannot assign value '"+n+"' to ref '"+e+"'")}}function c(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return e=>{n.forEach((n=>i(n,e)))}}var s=t(829),o=t(1180),u=t(5284),f=t(8554),d=t.n(f),p=t(4461),m=t(8500);function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var[h,g]=(0,m.k)({strict:!1,name:"ButtonGroupContext"}),y=(0,o.forwardRef)(((e,n)=>{var{size:t,colorScheme:a,variant:l,className:i,spacing:c="0.5rem",isAttached:s,isDisabled:u}=e,f=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),d=(0,p.cx)("chakra-button__group",i),m=r.useMemo((()=>({size:t,colorScheme:a,variant:l,isDisabled:u})),[t,a,l,u]),g={display:"inline-flex"};return g=v({},g,s?{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginStart:c}}),r.createElement(h,{value:m},r.createElement(o.chakra.div,v({ref:n,role:"group",__css:g,className:d},f)))}));function b(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}function E(){return(E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}l.Ts&&(y.displayName="ButtonGroup");var _=(0,o.forwardRef)(((e,n)=>{var t,a=g(),l=(0,o.useStyleConfig)("Button",E({},a,e)),i=(0,u.Lr)(e),{isDisabled:s=(null==a?void 0:a.isDisabled),isLoading:f,isActive:m,isFullWidth:v,children:h,leftIcon:y,rightIcon:_,loadingText:N,iconSpacing:O="0.5rem",type:x,spinner:C,spinnerPlacement:w="start",className:j,as:I}=i,A=b(i,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"]),B=d()({},null!=(t=null==l?void 0:l._focus)?t:{},{zIndex:1}),D=E({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",transition:"all 250ms",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:v?"100%":"auto"},l,!!a&&{_focus:B}),[T,P]=r.useState(!I),R=r.useCallback((e=>{e&&P("BUTTON"===e.tagName)}),[]),z=T?"button":void 0;return r.createElement(o.chakra.button,E({disabled:s||f,ref:c(n,R),as:I,type:null!=x?x:z,"data-active":(0,p.PB)(m),"data-loading":(0,p.PB)(f),__css:D,className:(0,p.cx)("chakra-button",j)},A),y&&!f&&r.createElement(k,{marginEnd:O},y),f&&"start"===w&&r.createElement(S,{label:N,placement:"start"},C),f?N||r.createElement(o.chakra.span,{opacity:0},h):h,f&&"end"===w&&r.createElement(S,{label:N,placement:"end"},C),_&&!f&&r.createElement(k,{marginStart:O},_))}));l.Ts&&(_.displayName="Button");var k=e=>{var{children:n,className:t}=e,a=b(e,["children","className"]),l=r.isValidElement(n)?r.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,i=(0,p.cx)("chakra-button__icon",t);return r.createElement(o.chakra.span,E({display:"inline-flex",alignSelf:"center",flexShrink:0},a,{className:i}),l)};l.Ts&&(k.displayName="ButtonIcon");var S=e=>{var{label:n,placement:t,children:a=r.createElement(s.$,{color:"currentColor",width:"1em",height:"1em"}),className:l,__css:i}=e,c=b(e,["label","placement","spacing","children","className","__css"]),u=(0,p.cx)("chakra-button__spinner",l),f=E({display:"flex",alignItems:"center",position:n?"relative":"absolute",["start"===t?"marginEnd":"marginStart"]:n?"0.5rem":0,fontSize:"1em",lineHeight:"normal"},i);return r.createElement(o.chakra.div,E({className:u},c,{__css:f}),a)};l.Ts&&(S.displayName="ButtonSpinner");var N={COS_DOMAIN:"https://public-1258874145.cos.ap-nanjing.myqcloud.com"},O=(t(1249),t(2222),t(655));function x(e,n,t){void 0===n&&(n=[]),void 0===t&&(t={loading:!1});var a,l,i=(0,r.useRef)(0),c=(a=(0,r.useRef)(!1),l=(0,r.useCallback)((function(){return a.current}),[]),(0,r.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]),l),s=(0,r.useState)(t),o=s[0],u=s[1];return[o,(0,r.useCallback)((function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var a=++i.current;return u((function(e){return(0,O.pi)((0,O.pi)({},e),{loading:!0})})),e.apply(void 0,n).then((function(e){return c()&&a===i.current&&u({value:e,loading:!1}),e}),(function(e){return c()&&a===i.current&&u({error:e,loading:!1}),e}))}),n)]}var C=t(9669),w=t.n(C);function j(){var e=function(e,n){void 0===n&&(n=[]);var t=x(e,n,{loading:!0}),a=t[0],l=t[1];return(0,r.useEffect)((function(){l()}),[l]),a}((function(){return w().get("".concat(N.COS_DOMAIN,"/assets/the-song.json"))}),[]).value;return r.createElement("div",null,r.createElement("h3",null,"Lyrics"),r.createElement("p",null,null==e?void 0:e.title),r.createElement("p",null,null==e?void 0:e.artist),null==e?void 0:e.lyrics.map((function(e,n){var t=e.content,a=e.timeTag;return r.createElement("p",{key:"".concat(a,"-").concat(n)},t)})))}function I(){var e=(0,r.useRef)(null),n=(0,r.useState)(!1),t=(0,a.Z)(n,2),l=t[0],i=t[1];return(0,r.useEffect)((function(){e.current&&(l?e.current.play():e.current.pause())}),[l]),r.createElement("div",null,r.createElement(_,{onClick:function(){return i(!l)}},l?"Pause":"Play"),r.createElement(j,null),r.createElement("audio",{ref:e,src:"".concat(N.COS_DOMAIN,"/assets/the-song.mp3"),hidden:!0}))}}}]);